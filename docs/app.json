[{"name":"app.R","content":"#!/usr/bin/env Rscript\r\n\r\n# This code is for creating\r\n# -----------------------------------------------------------------------------\r\n# Date                     Programmer\r\n#----------   --------------------------------------------------------------\r\n# Aug-22-2024    Md Yousuf Ali (md.ali@fda.hhs.gov)\r\n\r\n\r\n\r\nlibrary(shiny)\r\n\r\nui <- fluidPage(\r\n  titlePanel(\"Addition Challenge\"),\r\n  sidebarLayout(\r\n    sidebarPanel(width = 2,\r\n                 numericInput(\"num_digits\", \"Number of Digits:\", value = 2, min = 1, max = 3, step = 1),\r\n                 actionButton('generate','new addition')\r\n    ),\r\n    mainPanel(\r\n      h4(\"Enter the sum of the following two numbers:\"),\r\n      h2(textOutput(\"num1\")),\r\n      h2(\"+\"),\r\n      h2(textOutput(\"num2\")),\r\n      textInput(\"answer\", \"Your Answer:\", placeholder = \"Enter sum here\"),\r\n      actionButton(\"submit\", \"Check Result\"),\r\n      br(),\r\n      ## shiny::tableOutput('resutl')\r\n      verbatimTextOutput(\"result\")\r\n    )\r\n  )\r\n)\r\n\r\nserver <- function(input, output) {\r\n\r\n  digits <- reactive({\r\n    val <- input$num_digits\r\n    if(val>3){\r\nval <- 3\r\n    }else if(val==0){\r\nval <- 1\r\n    }else{\r\nval <- input$num_digits\r\n    }\r\n\r\n  })\r\n\r\n  number1 <- eventReactive(input$generate,{\r\n   num <-  paste0(sample(0:9, digits(), replace = TRUE), collapse = \"\")\r\n   num\r\n  })\r\n\r\n  number2 <- eventReactive(input$generate,{\r\n   num <-  paste0(sample(0:9, digits(), replace = TRUE), collapse = \"\")\r\n   num\r\n  })\r\n\r\n  output$num1 <- renderText({\r\n    number1()\r\n    ## paste0(sample(0:9, input$num_digits, replace = TRUE), collapse = \"\")\r\n  })\r\n\r\n  output$num2 <- renderText({\r\n    number2()\r\n    ## paste0(sample(0:9, input$num_digits, replace = TRUE), collapse = \"\")\r\n  })\r\n\r\n  result_final <- eventReactive(input$submit,{\r\n\r\n   ## answer <-  paste0(sample(0:9, input$num_digits, replace = TRUE), collapse = \"\")\r\n    answer <- as.numeric(number1()) + as.numeric(number2())\r\n    answer\r\n\r\n  })\r\n\r\n  given_ans <- eventReactive(input$submit,{\r\n\r\n    res <- as.numeric(input$answer)\r\n    res\r\n\r\n  })\r\n\r\n  output$result <- shiny::renderText({\r\n    req(input$submit)\r\n    ## req(input$answer)\r\n    ## input$answer\r\n    ans <- result_final()\r\n    user_ans <- given_ans()\r\n    if(user_ans==ans){\r\n\r\npaste0(\"you are correct. answer is: \", as.character(ans))\r\n    }else{\r\npaste0(\"incorrect. correct answer is: \", as.character(ans))\r\n    }\r\n\r\n\r\n  })\r\n\r\n\r\n\r\n  ## observeEvent(input$generate, {\r\n  ##   output$result <- renderText({\r\n  ##     \"\"\r\n  ##   })\r\n  ## })\r\n\r\n  ## output$result <- shiny::renderDataTable({\r\n  ##   result_final <- as.numeric(result_final())\r\n  ##   result_final <- data.frame(k=result_final)\r\n  ##   result_final\r\n  ## })\r\n\r\n\r\n}\r\n\r\nshinyApp(ui = ui, server = server)\r\n","type":"text"}]
